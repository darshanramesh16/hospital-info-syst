<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MedCare Hospital Information System</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: #333;
      }

      .header {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        padding: 1rem 2rem;
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 100;
      }

      .header h1 {
        color: #2c3e50;
        text-align: center;
        font-size: 2rem;
        font-weight: 600;
      }

      .nav-tabs {
        display: flex;
        justify-content: center;
        margin-top: 1rem;
        gap: 1rem;
      }

      .tab-btn {
        padding: 12px 24px;
        background: #3498db;
        color: white;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 500;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
      }

      .tab-btn:hover {
        background: #2980b9;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
      }

      .tab-btn.active {
        background: #e74c3c;
        box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
      }

      .container {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 0 1rem;
      }

      .page {
        display: none;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 2rem;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        animation: fadeIn 0.5s ease-in;
      }

      .page.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin: 2rem 0;
      }

      .form-group {
        margin-bottom: 1.5rem;
      }

      .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #2c3e50;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid #ddd;
        border-radius: 10px;
        font-size: 1rem;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.9);
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #3498db;
        box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
        transform: translateY(-2px);
      }

      .form-group textarea {
        height: 100px;
        resize: vertical;
      }

      .btn {
        padding: 14px 30px;
        background: linear-gradient(45deg, #27ae60, #2ecc71);
        color: white;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-size: 1.1rem;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 6px 20px rgba(46, 204, 113, 0.3);
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(46, 204, 113, 0.4);
        background: linear-gradient(45deg, #229954, #27ae60);
      }

      .btn-secondary {
        background: linear-gradient(45deg, #e67e22, #f39c12);
        box-shadow: 0 6px 20px rgba(243, 156, 18, 0.3);
      }

      .btn-secondary:hover {
        background: linear-gradient(45deg, #d35400, #e67e22);
        box-shadow: 0 8px 25px rgba(243, 156, 18, 0.4);
      }

      .patients-grid {
        display: grid;
        gap: 1.5rem;
        margin-top: 2rem;
      }

      .patient-card {
        background: linear-gradient(135deg, #f8f9ff 0%, #e8f2ff 100%);
        border: 1px solid #e0e6ff;
        border-radius: 15px;
        padding: 1.5rem;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .patient-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        border-color: #3498db;
      }

      .patient-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #e0e6ff;
      }

      .patient-name {
        font-size: 1.4rem;
        font-weight: 700;
        color: #2c3e50;
      }

      .patient-id {
        background: #3498db;
        color: white;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 600;
      }

      .patient-info {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
      }

      .info-item {
        display: flex;
        flex-direction: column;
      }

      .info-label {
        font-size: 0.85rem;
        color: #7f8c8d;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 0.3rem;
      }

      .info-value {
        font-size: 1rem;
        color: #2c3e50;
        font-weight: 500;
      }

      .status-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 15px;
        font-size: 0.85rem;
        font-weight: 600;
        text-transform: uppercase;
      }

      .status-active {
        background: #d5f4e6;
        color: #27ae60;
      }
      .status-critical {
        background: #fdeaea;
        color: #e74c3c;
      }
      .status-stable {
        background: #fff3cd;
        color: #f39c12;
      }

      .search-bar {
        width: 100%;
        padding: 15px 20px;
        border: 2px solid #ddd;
        border-radius: 25px;
        font-size: 1.1rem;
        margin-bottom: 2rem;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(5px);
      }

      .search-bar:focus {
        outline: none;
        border-color: #3498db;
        box-shadow: 0 0 20px rgba(52, 152, 219, 0.3);
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
      }

      .stat-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 2rem;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        transition: all 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
      }

      .stat-number {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .stat-label {
        font-size: 1.1rem;
        opacity: 0.9;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .empty-state {
        text-align: center;
        padding: 3rem;
        color: #7f8c8d;
      }

      .empty-state h3 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
      }

      .form-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
        margin-top: 2rem;
      }

      @media (max-width: 768px) {
        .container {
          padding: 0 0.5rem;
        }

        .form-grid {
          grid-template-columns: 1fr;
        }

        .nav-tabs {
          flex-direction: column;
          align-items: center;
        }

        .patient-header {
          flex-direction: column;
          gap: 1rem;
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>üè• MedCare Hospital Information System</h1>
      <div class="nav-tabs">
        <button class="tab-btn active" onclick="showPage('registration')">
          Patient Registration
        </button>
        <button class="tab-btn" onclick="showPage('records')">
          Patient Records
        </button>
      </div>
    </div>

    <div class="container">
      <!-- Patient Registration Page -->
      <div id="registration" class="page active">
        <h2>Patient Registration</h2>
        <form id="patientForm">
          <div class="form-grid">
            <div class="form-group">
              <label for="firstName">First Name *</label>
              <input type="text" id="firstName" name="firstName" required />
            </div>
            <div class="form-group">
              <label for="lastName">Last Name *</label>
              <input type="text" id="lastName" name="lastName" required />
            </div>
            <div class="form-group">
              <label for="dateOfBirth">Date of Birth *</label>
              <input type="date" id="dateOfBirth" name="dateOfBirth" required />
            </div>
            <div class="form-group">
              <label for="gender">Gender *</label>
              <select id="gender" name="gender" required>
                <option value="">Select Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div class="form-group">
              <label for="phone">Phone Number *</label>
              <input type="tel" id="phone" name="phone" required />
            </div>
            <div class="form-group">
              <label for="email">Email Address</label>
              <input type="email" id="email" name="email" />
            </div>
            <div class="form-group">
              <label for="address">Address *</label>
              <textarea
                id="address"
                name="address"
                required
                placeholder="Enter full address"
              ></textarea>
            </div>
            <div class="form-group">
              <label for="emergencyContact">Emergency Contact *</label>
              <input
                type="text"
                id="emergencyContact"
                name="emergencyContact"
                required
                placeholder="Name and phone number"
              />
            </div>
            <div class="form-group">
              <label for="bloodType">Blood Type</label>
              <select id="bloodType" name="bloodType">
                <option value="">Select Blood Type</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
              </select>
            </div>
            <div class="form-group">
              <label for="insurance">Insurance Provider</label>
              <input
                type="text"
                id="insurance"
                name="insurance"
                placeholder="Insurance company name"
              />
            </div>
            <div class="form-group">
              <label for="allergies">Known Allergies</label>
              <textarea
                id="allergies"
                name="allergies"
                placeholder="List any known allergies"
              ></textarea>
            </div>
            <div class="form-group">
              <label for="medicalHistory">Medical History</label>
              <textarea
                id="medicalHistory"
                name="medicalHistory"
                placeholder="Brief medical history"
              ></textarea>
            </div>
          </div>
          <div class="form-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="clearForm()"
            >
              Clear Form
            </button>
            <button type="submit" class="btn">Register Patient</button>
          </div>
        </form>
      </div>

      <!-- Patient Records Page -->
      <div id="records" class="page">
        <h2>Patient Records Dashboard</h2>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number" id="totalPatients">0</div>
            <div class="stat-label">Total Patients</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="todayRegistrations">0</div>
            <div class="stat-label">Today's Registrations</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="criticalPatients">0</div>
            <div class="stat-label">Critical Status</div>
          </div>
        </div>

        <input
          type="text"
          class="search-bar"
          id="searchBar"
          placeholder="üîç Search patients by name, ID, or phone number..."
        />

        <div id="patientsContainer" class="patients-grid">
          <div class="empty-state">
            <h3>No patients registered yet</h3>
            <p>
              Use the Patient Registration tab to add new patients to the
              system.
            </p>
          </div>
        </div>
      </div>
    </div>

    <script>
      // In-memory patient storage
      let patients = [];
      let patientIdCounter = 1001;

      // Initialize with sample data
      function initializeSampleData() {
        const samplePatients = [
          {
            id: patientIdCounter++,
            firstName: "John",
            lastName: "Doe",
            dateOfBirth: "1985-03-15",
            gender: "male",
            phone: "+1-555-0123",
            email: "john.doe@email.com",
            address: "123 Main St, Anytown, ST 12345",
            emergencyContact: "Jane Doe - +1-555-0124",
            bloodType: "O+",
            insurance: "HealthCare Plus",
            allergies: "Penicillin",
            medicalHistory: "Hypertension, Regular checkups",
            registrationDate: new Date().toLocaleDateString(),
            status: "stable",
          },
          {
            id: patientIdCounter++,
            firstName: "Sarah",
            lastName: "Johnson",
            dateOfBirth: "1992-07-22",
            gender: "female",
            phone: "+1-555-0456",
            email: "sarah.johnson@email.com",
            address: "456 Oak Ave, Somewhere, ST 67890",
            emergencyContact: "Mike Johnson - +1-555-0457",
            bloodType: "A-",
            insurance: "MediCare Standard",
            allergies: "None known",
            medicalHistory: "Diabetes Type 1, Regular insulin",
            registrationDate: new Date().toLocaleDateString(),
            status: "active",
          },
          {
            id: patientIdCounter++,
            firstName: "Robert",
            lastName: "Williams",
            dateOfBirth: "1978-11-05",
            gender: "male",
            phone: "+1-555-0789",
            email: "r.williams@email.com",
            address: "789 Pine St, Elsewhere, ST 54321",
            emergencyContact: "Linda Williams - +1-555-0790",
            bloodType: "B+",
            insurance: "Premium Health",
            allergies: "Shellfish, Latex",
            medicalHistory: "Recent surgery, Recovery monitoring",
            registrationDate: new Date().toLocaleDateString(),
            status: "critical",
          },
        ];

        patients = samplePatients;
        updateStats();
        displayPatients();
      }

      // Page navigation
      function showPage(pageId) {
        // Hide all pages
        const pages = document.querySelectorAll(".page");
        pages.forEach((page) => page.classList.remove("active"));

        // Show selected page
        document.getElementById(pageId).classList.add("active");

        // Update tab buttons
        const tabs = document.querySelectorAll(".tab-btn");
        tabs.forEach((tab) => tab.classList.remove("active"));
        event.target.classList.add("active");

        // Refresh records page when switching to it
        if (pageId === "records") {
          updateStats();
          displayPatients();
        }
      }

      // Form handling
      document
        .getElementById("patientForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const formData = new FormData(this);
          const patient = {
            id: patientIdCounter++,
            registrationDate: new Date().toLocaleDateString(),
            status:
              Math.random() > 0.7
                ? "critical"
                : Math.random() > 0.5
                ? "stable"
                : "active",
          };

          // Convert form data to patient object
          for (let [key, value] of formData.entries()) {
            patient[key] = value;
          }

          // Add to patients array
          patients.push(patient);

          // Show success message
          alert(
            `‚úÖ Patient ${patient.firstName} ${patient.lastName} has been successfully registered!\nPatient ID: ${patient.id}`
          );

          // Clear form
          this.reset();

          // Update stats
          updateStats();
        });

      function clearForm() {
        if (confirm("Are you sure you want to clear all form data?")) {
          document.getElementById("patientForm").reset();
        }
      }

      // Display patients
      function displayPatients(patientsToShow = patients) {
        const container = document.getElementById("patientsContainer");

        if (patientsToShow.length === 0) {
          container.innerHTML = `
                    <div class="empty-state">
                        <h3>No patients found</h3>
                        <p>Try adjusting your search criteria or register new patients.</p>
                    </div>
                `;
          return;
        }

        container.innerHTML = patientsToShow
          .map(
            (patient) => `
                <div class="patient-card">
                    <div class="patient-header">
                        <div class="patient-name">${patient.firstName} ${
              patient.lastName
            }</div>
                        <div class="patient-id">ID: ${patient.id}</div>
                    </div>
                    <div class="patient-info">
                        <div class="info-item">
                            <div class="info-label">Date of Birth</div>
                            <div class="info-value">${new Date(
                              patient.dateOfBirth
                            ).toLocaleDateString()}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Gender</div>
                            <div class="info-value">${
                              patient.gender.charAt(0).toUpperCase() +
                              patient.gender.slice(1)
                            }</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Phone</div>
                            <div class="info-value">${patient.phone}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Blood Type</div>
                            <div class="info-value">${
                              patient.bloodType || "Not specified"
                            }</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Status</div>
                            <div class="info-value">
                                <span class="status-badge status-${
                                  patient.status
                                }">${patient.status}</span>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Registration Date</div>
                            <div class="info-value">${
                              patient.registrationDate
                            }</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Emergency Contact</div>
                            <div class="info-value">${
                              patient.emergencyContact
                            }</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Insurance</div>
                            <div class="info-value">${
                              patient.insurance || "Not specified"
                            }</div>
                        </div>
                        ${
                          patient.allergies
                            ? `
                        <div class="info-item">
                            <div class="info-label">Allergies</div>
                            <div class="info-value">${patient.allergies}</div>
                        </div>
                        `
                            : ""
                        }
                        ${
                          patient.medicalHistory
                            ? `
                        <div class="info-item">
                            <div class="info-label">Medical History</div>
                            <div class="info-value">${patient.medicalHistory}</div>
                        </div>
                        `
                            : ""
                        }
                    </div>
                </div>
            `
          )
          .join("");
      }

      // Update statistics
      function updateStats() {
        const today = new Date().toLocaleDateString();
        const todayRegistrations = patients.filter(
          (p) => p.registrationDate === today
        ).length;
        const criticalPatients = patients.filter(
          (p) => p.status === "critical"
        ).length;

        document.getElementById("totalPatients").textContent = patients.length;
        document.getElementById("todayRegistrations").textContent =
          todayRegistrations;
        document.getElementById("criticalPatients").textContent =
          criticalPatients;
      }

      // Search functionality
      document
        .getElementById("searchBar")
        .addEventListener("input", function (e) {
          const searchTerm = e.target.value.toLowerCase();
          const filteredPatients = patients.filter(
            (patient) =>
              patient.firstName.toLowerCase().includes(searchTerm) ||
              patient.lastName.toLowerCase().includes(searchTerm) ||
              patient.phone.includes(searchTerm) ||
              patient.id.toString().includes(searchTerm) ||
              (patient.email &&
                patient.email.toLowerCase().includes(searchTerm))
          );
          displayPatients(filteredPatients);
        });

      // Calculate age helper function
      function calculateAge(dateOfBirth) {
        const today = new Date();
        const birthDate = new Date(dateOfBirth);
        let age = today.getFullYear() - birthDate.getFullYear();
        const monthDiff = today.getMonth() - birthDate.getMonth();

        if (
          monthDiff < 0 ||
          (monthDiff === 0 && today.getDate() < birthDate.getDate())
        ) {
          age--;
        }

        return age;
      }

      // Initialize the application
      document.addEventListener("DOMContentLoaded", function () {
        initializeSampleData();
      });
    </script>
  </body>
</html>
